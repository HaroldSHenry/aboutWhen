(function(a){a.fn.aboutWhen=function(b){return this.each(function(p){var r=((p)&&(p.text))?p.text:{Nm:["(year)","(month)","(day)","(weekday)"],Mo:["January","February","March","April","May","June","July","August","September","October","November","December"],Wd:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ns:"(not sure)"},s=((p)&&(p.widths))?p.widths:[80,120,70,125],l=((p)&&(p.minY)&&(p.minY>1800)&&(p.minY<2050))?p.minY:1900,k=((p)&&(p.maxY)&&(p.maxY>0)&&(p.maxY<2060))?p.maxY:new Date().getFullYear(),e=this.id+"_",h=0,n=5,o=null,m=null,j=null,d=function(u,v){var t=document.createElement("select"),i=document.createElement("option");t.id=u;t.name=t.id;t.className="hsh-when-S";t.onfocus=g;t.onblur=q;t.onchange=f;i.setAttribute("value",-1);i.innerHTML="";t.appendChild(i);a(t).css({width:v+"px"});return t},c=function(t,u,v){var i=document.createElement("label");i.setAttribute("id",t);i.className="hsh-when-L";i.innerHTML=u;a(i).css({left:v,top:"2px"});return i},f=function(){var A="#"+this.id.substr(0,this.id.length-1),C=a(A+"y")[0],z=a(A+"m")[0],t=a(A+"d")[0],B=C.options[C.selectedIndex].value,v=((B>0)&&(B%4==0)&&(B%100!=0)),w=z.selectedIndex,x=31,i=t.selectedIndex,u=null;if(w>0){if(w<9){if(w==2){x=(v)?29:28}else{x=(w&1)?31:30}}else{x=(w&1)?30:31}}if(i>x){i=x;t.selectedIndex=x}if((B>0)&&(w>0)&&(i>0)){u=new Date(B,w,i);if(u){a(A+"w")[0].selectedIndex=u.getDay()+1;a(A+"wL").hide()}}},g=function(){this.options[0].innerHTML=r.ns;a("#"+this.id+"L").hide()},q=function(){this.options[0].innerHTML="";var i=a("#"+this.id+"L");if(this.selectedIndex>0){i.hide()}else{i.show()}};if(k<l){k=l}o=d(e+"y",s[0]);for(h=k;h>=l;h--){m=document.createElement("option");m.setAttribute("value",h);m.innerHTML="&#160;"+h;o.appendChild(m)}this.appendChild(o);j=c(e+"yL",r.Nm[0],n);this.appendChild(j);o=d(e+"m",s[1]);for(h=0;h<12;h++){m=document.createElement("option");m.setAttribute("value",h);m.innerHTML="&#160;"+r.Mo[h];o.appendChild(m)}this.appendChild(o);n+=s[0]+2;j=c(e+"mL",r.Nm[1],n);this.appendChild(j);o=d(e+"d",s[2]);for(h=1;h<10;h++){m=document.createElement("option");m.setAttribute("value",h);m.innerHTML="&#160;&#160;&#160;&#160;"+h;o.appendChild(m)}for(h=10;h<32;h++){m=document.createElement("option");m.setAttribute("value",h);m.innerHTML="&#160;&#160;&#160;"+h;o.appendChild(m)}this.appendChild(o);n+=s[1]+2;j=c(e+"dL",r.Nm[2],n);this.appendChild(j);o=d(e+"w",s[3]);for(h=0;h<7;h++){m=document.createElement("option");m.setAttribute("value",h);m.innerHTML="&#160;"+r.Wd[h];o.appendChild(m)}this.appendChild(o);n+=s[2]+2;j=c(e+"wL",r.Nm[3],n);this.appendChild(j)})}})(jQuery);